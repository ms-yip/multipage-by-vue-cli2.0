webpackJsonp([1],{DuZw:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("xd7I"),n=a("NxjZ"),i=a.n(n);a("zlkP");r.default.use(i.a);var l=a("lC5x"),s=a.n(l),o=a("J0Oq"),c=a.n(o),u=a("4YfN"),p=a.n(u),d=a("sNXC"),m=a.n(d),f=a("rVsN"),h=a.n(f),y=a("84iU"),g=a.n(y),b=a("ZLEe"),v=a.n(b);function _(e){return e<10?"0"+e:e}function w(e){var t={};for(var a in e)0!==e[a]&&!e[a]||""===e[a].toString().replace(/(^\s*)|(\s*$)/g,"")||(t[a]=e[a]);return t}var F={isArray:function(e){return"Array"===Object.prototype.toString.apply(e).slice(8,-1)},isString:function(e){return"String"===Object.prototype.toString.apply(e).slice(8,-1)},isObject:function(e){return"Object"===Object.prototype.toString.apply(e).slice(8,-1)},isFunction:function(e){return"Function"===Object.prototype.toString.apply(e).slice(8,-1)},isEmptyObject:function(e){return 0===v()(e).length},dateToString:function(e){var t=!(arguments.length<=1)&&arguments.length-1?new Date(arguments.length<=1?void 0:arguments[1]):new Date,a={y:t.getFullYear(),m:_(t.getMonth()+1),d:_(t.getDate()),h:_(t.getHours()),i:_(t.getMinutes()),s:_(t.getSeconds()),w:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][t.getDay()]};return e.replace("y",a.y).replace("m",a.m).replace("d",a.d).replace("h",a.h).replace("i",a.i).replace("s",a.s).replace("w",a.w)},stringToDate:function(e){var t=new Date;if(arguments.length<=1||!(arguments.length-1))return"";var a=arguments.length<=1?void 0:arguments[1],r=new RegExp("([0-9]|[ymdhis])+","g"),n=e.match(r),i=a.match(r),l=t.getFullYear(),s=t.getMonth(),o=t.getDate(),c=t.getHours(),u=t.getMinutes(),p=t.getSeconds();return n.forEach(function(e,t){switch(e){case"h":c=parseInt(i[t],10);break;case"i":u=parseInt(i[t],10);break;case"s":p=parseInt(i[t],10);break;case"y":l=parseInt(i[t],10);break;case"m":s=parseInt(i[t],10)-1;break;case"d":o=parseInt(i[t],10)}}),new Date(l,s,o,c,u,p)},realArray:function(e){return v()(e).map(function(t){return e[t]})},filterParams:w,digitUppercase:function(e){var t=["角","分"],a=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],r=[["元","万","亿"],["","拾","佰","仟"]],n=e<0?"欠":"";e=Math.abs(e);for(var i="",l=0;l<t.length;l++)i+=(a[Math.floor(10*e*Math.pow(10,l))%10]+t[l]).replace(/零./,"");i=i||"整",e=Math.floor(e);for(var s=0;s<r[0].length&&e>0;s++){for(var o="",c=0;c<r[1].length&&e>0;c++)o=a[e%10]+r[1][c]+o,e=Math.floor(e/10);i=o.replace(/(零.)*零$/,"").replace(/^$/,"零")+r[0][s]+i}return n+i.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")}};p()({install:function(e){var t=e;t.prototype.$utils||(t.prototype.$utils=F)}},F);g.a.defaults.headers.common["X-Reqeusted-With"]="XMLHttpRequest",g.a.defaults.headers.common["Content-Type"]="application/json",g.a.defaults.headers.common["Cache-Control"]="no-cache";var k="/qwerty.php",x={lock:!0,text:"加载中...",background:"rgba(0, 0, 0, 0.6)"},M={},z=0;g.a.interceptors.request.use(function(e){return e.url=k+e.url,z+=1,e},function(e){return h.a.reject(e)}),g.a.interceptors.response.use(function(e){var t=e.config;M.close&&(z-=1,setTimeout(function(){z||M.close()},0));var a=e.data,r=a.code,i=a.msg,l=a.data;if(t.all){if("0001"===r)return!0!==t.hideMsg&&Object(n.Message)({message:i,type:"success"}),e.data;if("0002"===r)return[];throw Object(n.Message)({message:i,type:"warning"}),new Error(r)}if("0001"!==r&&"0002"!==r)throw Object(n.Message)({message:i,type:"warning"}),new Error(r);return l||[]},function(e){try{z-=1,setTimeout(function(){z||M.close()},0)}catch(e){}return Object(n.Message)({message:"网络错误",type:"error"}),h.a.reject(e)});var $,L=($=c()(s.a.mark(function e(t,a,r,i){var l,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",{});case 2:if((!i||!i.needNull||!i.needNull)&&(r=w(r)),l="",!(!i||!i.hideLoading)||(M=n.Loading.service(x)),"get"!==t&&"delete"!==t&&"head"!==t&&"options"!==t){e.next=14;break}return o=p()({},i,{params:r}),e.next=11,g.a[t](a,o);case 11:l=e.sent,e.next=17;break;case 14:return e.next=16,g.a[t](a,r,i);case 16:l=e.sent;case 17:return e.abrupt("return",l);case 18:case"end":return e.stop()}},e,this)})),function(e,t,a,r){return $.apply(this,arguments)}),S=function(e,t,a){return L("get",t,e,a)},j=function(e,t,a){return L("post",t,e,a)},O=new r.default;function T(e){var t=this,a=this.tableList.map(function(a){return function(e,t,a){if(t.render&&"function"==typeof t.render){var r={scopedSlots:{default:function(r){return t.render.call(a,e,r)}}};return e("el-table-column",m()([{attrs:{prop:t.prop||"",label:t.label,fixed:t.fixed||!1,width:t.width||""}},r]))}return e("el-table-column",{attrs:{prop:t.prop||"",label:t.label,fixed:t.fixed||!1,width:t.width||""}})}(e,a,t.$parent)});return e("el-table",{class:{height:this.height},attrs:{stripe:!0,border:!0,"highlight-current-row":!0,size:"small",data:this.list,fit:!0},style:"width: 100%"},[a])}var D={props:{api:{type:String,default:""},tableList:{type:Array,default:function(){return[]}},layout:{type:Array,default:function(){return["form","toolbar","table","pagination"]}},formData:{type:Object,default:function(){return{}}},requestType:{type:Number,default:1},config:{type:Object,default:function(){}},callback:{type:Function,default:null},needReady:{type:Boolean,default:!1},unFixedFistRow:{type:Boolean,default:!1}},components:{},watch:{pageSize:function(e){console.log(e),this.getList()},page:function(e){console.log("page",e),this.getList()}},computed:{isPagination:function(){return this.layout.indexOf("pagination")>=0},height:function(){return this.unFixedFistRow?"":this.total>0?"500":"undefined"}},data:function(){return{pageSize:10,page:1,list:[],total:0}},methods:{query:function(e){e&&(this.page=1),this.getList()},getList:function(){var e=this;return c()(s.a.mark(function t(){var a,r,n,i,l,o,c,u;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.api){t.next=2;break}return t.abrupt("return");case 2:if(a=e.isPagination,r="",r=a?p()({page:e.page,pageSize:e.pageSize},e.formData):p()({},e.formData),n="",1!==e.requestType){t.next=12;break}return t.next=9,S(r,e.api,e.config);case 9:n=t.sent,t.next=16;break;case 12:if(2!==e.requestType){t.next=16;break}return t.next=15,j(r,e.api,e.config);case 15:n=t.sent;case 16:if(null===e.callback){t.next=19;break}return e.callback(n),t.abrupt("return");case 19:l=(i=n).data,o=i.page,c=i.pageSize,u=i.total,e.list=l,a&&(e.page=o||1,e.pageSize=c||e.pageSize,e.total=u||0);case 22:case"end":return t.stop()}},t,e)}))()}},created:function(){this.needReady||this.getList()},mounted:function(){var e=this;O.$on("refreshGrid",function(t){e.query()})},render:function(e){var t={table:T.call(this,e),toolbar:function(e){return this.$slots.toolbar?e("div",{class:"toolbar"},[this.$slots.toolbar]):e("div")}.call(this,e),pagination:function(e){var t=this;return e("el-pagination",{class:"pagination",on:{"size-change":function(e){t.pageSize=e},"current-change":function(e){t.page=e}},attrs:{currentPage:this.page,pageSizes:[10,20,30,40],pageSize:this.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:this.total}})}.call(this,e),form:function(e){var t=this;return this.$slots.form?e("div",{class:"grid"},[this.$slots.form,e("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(){t.query(!0)}}},["查询"])]):e("div")}.call(this,e)};return e("div",[this.layout.map(function(e){return t[e]})])}};var q={name:"houses",components:{grid:a("C7Lr")(D,null,!1,function(e){a("DuZw")},"data-v-494a8149",null).exports},mixins:[],props:{},data:function(){this.$createElement;return{searchForm:{owner_name:"",room:"",mobile:"",identity_status:"",identity_begin_time:"",identity_end_time:"",id_card_type:"",id_card:"",identity_type:"",submit_begin_time:"",submit_end_time:""},columns:[{type:"default",label:"业主姓名",prop:"owner_name"},{type:"default",label:"房屋号",prop:"room"},{type:"default",label:"绑定手机号",prop:"mobile"},{type:"default",label:"证件类型",prop:"id_card_type"},{type:"default",label:"证件号",prop:"id_card"},{type:"default",label:"认证方式",prop:"auth_type"},{type:"default",label:"提交时间",prop:"submit_time"},{type:"default",label:"认证时间",prop:"add_time"},{type:"default",label:"认证状态",prop:"auth_status_name"},{type:"default",label:"失败原因",prop:"remark"},{type:"default",label:"操作",render:function(e,t){var a=this,r=t.row;return e("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){a.changeStatus(r)}}},["解绑"])}}],layout:["form","table","pagination"],getApi:"/LinliUserAuth/UserAuth/OwnerList",statusList:[{name:"全部",value:0},{name:"已认证",value:1},{name:"取消认证",value:2},{name:"待审核",value:3},{name:"审核失败",value:4}],cardTypeList:[{name:"全部",value:0},{name:"身份证",value:1},{name:"户口本",value:2},{name:"港澳居住证",value:3}],attestationTypeList:[{name:"全部",value:0},{name:"系统认证",value:1},{name:"人工认证",value:2}]}},computed:{},created:function(){this.getIdType()},mounted:function(){},methods:{changeStatus:function(e){this.untiedUser(1,e.id)},getIdType:function(){var e=this;return c()(s.a.mark(function t(){var a;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L("get","/LinliUserAuth/UserAuth/getIdType",{},{});case 2:a=t.sent,e.cardTypeList=a;case 4:case"end":return t.stop()}},t,e)}))()},untiedUser:function(e,t){var a=this;return c()(s.a.mark(function r(){return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,L("get","/LinliUserAuth/UserAuth/delete",{type:e,id:t},{all:!0});case 2:"0001"===r.sent.code&&(console.log(a.$refs.grid.query),a.$refs.grid.query());case 4:case"end":return r.stop()}},r,a)}))()}},filter:function(){},watch:{}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"houses"},[a("grid",{ref:"grid",attrs:{formData:e.searchForm,tableList:e.columns,layout:e.layout,api:e.getApi}},[a("el-form",{staticClass:"demo-form-inline",attrs:{slot:"form",inline:!0,model:{}},slot:"form"},[a("el-form-item",{attrs:{label:"业主姓名:"}},[a("el-input",{attrs:{placeholder:"业主姓名",size:"small"},model:{value:e.searchForm.owner_name,callback:function(t){e.$set(e.searchForm,"owner_name",t)},expression:"searchForm.owner_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"房屋号:"}},[a("el-input",{attrs:{placeholder:"房屋号",size:"small"},model:{value:e.searchForm.room,callback:function(t){e.$set(e.searchForm,"room",t)},expression:"searchForm.room"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"绑定手机号:"}},[a("el-input",{attrs:{placeholder:"绑定家人手机号",size:"small"},model:{value:e.searchForm.mobile,callback:function(t){e.$set(e.searchForm,"mobile",t)},expression:"searchForm.mobile"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"认证状态"}},[a("el-select",{attrs:{clearable:"",filterable:"",size:"small",placeholder:"请选择状态"},model:{value:e.searchForm.identity_status,callback:function(t){e.$set(e.searchForm,"identity_status",t)},expression:"searchForm.identity_status"}},e._l(e.statusList,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"认证时间:"}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择时间开始时间",size:"small"},model:{value:e.searchForm.identity_begin_time,callback:function(t){e.$set(e.searchForm,"identity_begin_time",t)},expression:"searchForm.identity_begin_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"至:"}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择时间结束时间",size:"small"},model:{value:e.searchForm.identity_end_time,callback:function(t){e.$set(e.searchForm,"identity_end_time",t)},expression:"searchForm.identity_end_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"证件类型"}},[a("el-select",{attrs:{clearable:"",filterable:"",size:"small",placeholder:"请选择证件类型"},model:{value:e.searchForm.id_card_type,callback:function(t){e.$set(e.searchForm,"id_card_type",t)},expression:"searchForm.id_card_type"}},e._l(e.cardTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"证件号:"}},[a("el-input",{attrs:{placeholder:"证件号",size:"small"},model:{value:e.searchForm.id_card,callback:function(t){e.$set(e.searchForm,"id_card",t)},expression:"searchForm.id_card"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"认证方式"}},[a("el-select",{attrs:{clearable:"",filterable:"",size:"small",placeholder:"请选择认证方式"},model:{value:e.searchForm.identity_type,callback:function(t){e.$set(e.searchForm,"identity_type",t)},expression:"searchForm.identity_type"}},e._l(e.attestationTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"提交时间:"}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择时间开始时间",size:"small"},model:{value:e.searchForm.submit_begin_time,callback:function(t){e.$set(e.searchForm,"submit_begin_time",t)},expression:"searchForm.submit_begin_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"至:"}},[a("el-date-picker",{attrs:{type:"datetime",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择时间结束时间",size:"small"},model:{value:e.searchForm.submit_end_time,callback:function(t){e.$set(e.searchForm,"submit_end_time",t)},expression:"searchForm.submit_end_time"}})],1)],1)],1)],1)},staticRenderFns:[]};var I=a("C7Lr")(q,A,!1,function(e){a("uwFl")},"data-v-5c8f1b3d",null).exports;r.default.config.productionTip=!1,new r.default({render:function(e){return e(I)}}).$mount("#app")},uwFl:function(e,t){},zlkP:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.5fbde0a0e36bbf21ab91.js.map